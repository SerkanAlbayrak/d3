<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="tr" xml:lang="tr"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Raif Serkan Albayrak">
<meta name="description" content="R’ın en esnek veri yapısı olan list veri yapısından tutulan veriye ulaşma, formatlama ve dönüştürme üzerine en sık kullandığım yöntemleri yazıyorum.">

<title>zeytin - List veri yapısı üzerine üzerine notlar ve map Fonksiyonu</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../images/olive_fav.png" rel="icon" type="image/png">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "Sonuç yok",
    "search-matching-documents-text": "eşleşen belgeler",
    "search-copy-link-title": "Aramak için bağlantıyı kopyalayın",
    "search-hide-matches-text": "Ek eşleşmeleri gizle",
    "search-more-match-text": "bu belgede daha fazla eşleşme",
    "search-more-matches-text": "bu belgede daha fazla eşleşmeler",
    "search-clear-button-title": "Temizle",
    "search-detached-cancel-button-title": "İptal et",
    "search-submit-button-title": "Göndermek",
    "search-label": "Aramak"
  }
}</script>
<script src="../../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<link href="../../../site_libs/jsoneditor-5.25.6/jsoneditor.min.css" rel="stylesheet">
<script src="../../../site_libs/jsoneditor-5.25.6/jsoneditor.min.js"></script>
<script src="../../../site_libs/jsonedit-binding-3.0.0/jsonedit.js"></script>


<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">zeytin</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Aramak"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Gezinmeyi değiştir" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html" rel="" target="">
 <span class="menu-text">Ana Sayfa</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html" rel="" target="">
 <span class="menu-text">İletişim</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">İçerik</h2>
   
  <ul>
  <li><a href="#tibble-veya-dataframeden-list-oluşturmak" id="toc-tibble-veya-dataframeden-list-oluşturmak" class="nav-link active" data-scroll-target="#tibble-veya-dataframeden-list-oluşturmak">Tibble veya DataFrame’den List Oluşturmak</a>
  <ul class="collapse">
  <li><a href="#split" id="toc-split" class="nav-link" data-scroll-target="#split">Split</a></li>
  <li><a href="#nest" id="toc-nest" class="nav-link" data-scroll-target="#nest">Nest</a></li>
  </ul></li>
  <li><a href="#modify_depth" id="toc-modify_depth" class="nav-link" data-scroll-target="#modify_depth">Modify_depth</a></li>
  <li><a href="#nft-datasını-dönüştürmek" id="toc-nft-datasını-dönüştürmek" class="nav-link" data-scroll-target="#nft-datasını-dönüştürmek">NFT Datasını Dönüştürmek</a>
  <ul class="collapse">
  <li><a href="#map---enframe---unnest" id="toc-map---enframe---unnest" class="nav-link" data-scroll-target="#map---enframe---unnest">Map - Enframe - Unnest</a></li>
  </ul></li>
  <li><a href="#rectangling" id="toc-rectangling" class="nav-link" data-scroll-target="#rectangling">Rectangling</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content column-page-right" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">List veri yapısı üzerine üzerine notlar ve map Fonksiyonu</h1>
  <div class="quarto-categories">
    <div class="quarto-category">purrr</div>
    <div class="quarto-category">map</div>
  </div>
  </div>

<div>
  <div class="description">
    R’ın en esnek veri yapısı olan list veri yapısından tutulan veriye ulaşma, formatlama ve dönüştürme üzerine en sık kullandığım yöntemleri yazıyorum.
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Yazar</div>
    <div class="quarto-title-meta-contents">
             <p>Raif Serkan Albayrak </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Yayınlanma Tarihi</div>
    <div class="quarto-title-meta-contents">
      <p class="date">11 Aralık 2022</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="cell">
<details>
<summary>Kod</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.2     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.2     ✔ tibble    3.2.1
✔ lubridate 1.9.2     ✔ tidyr     1.3.0
✔ purrr     1.0.1     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<details>
<summary>Kod</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(listviewer)</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Liste veri yapısı her ne kadar R’ın bildiğim kadarıyla en esnek veri yapısı olsa da, filtrelenmesi, endekslenmesi ve hata veri girişi konusu karışık ve az biliniyor. Özellikler JSON tipi veri liste dönüştüğünde katmanlı ve düzensiz bir yapıya sahip olabiliyor. Bu gibi durumlarda istenen herhangi bir katmandaki tüm veriyi çekmek veya ihtiyaç duyulan filtrelemeleri yapmak kolay değil. Bunlardan sonra daha detaylı analizler için zaten list’i tibble veya dataframe’e dönüştürmek gerekiyor. O kısım da bu yazının konusu.</p>
<p>Yazıya ters yönlü transformasyonla başlamak en iyi seçenek gibi görünmeyebilir ama aslında yazı boyunca kullanılabilecek örnek list verisi oluşturabilmek için de tibble’dan list’e dönüşüm ile başlıyorum.</p>
<section id="tibble-veya-dataframeden-list-oluşturmak" class="level1">
<h1>Tibble veya DataFrame’den List Oluşturmak</h1>
<p>Tibble’dan list’e dönüşüm bir veya daha fazla kategorik değişken üzerinden yürütülür. Örneğin <code>mtcars</code> verisinde silindir değişkeni ile veriyi üçe parçalamak mümkün.</p>
<section id="split" class="level2">
<h2 class="anchored" data-anchor-id="split">Split</h2>
<div class="cell">
<details>
<summary>Kod</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>mtList <span class="ot">&lt;-</span> mtcars <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split</span>(.<span class="sc">$</span>cyl)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">jsonedit</span>(mtList)</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="jsonedit html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-a56d5091bf8c2d93366b" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-a56d5091bf8c2d93366b">{"x":{"data":{"4":{"mpg":[22.8,24.4,22.8,32.4,30.4,33.9,21.5,27.3,26,30.4,21.4],"cyl":[4,4,4,4,4,4,4,4,4,4,4],"disp":[108,146.7,140.8,78.7,75.7,71.09999999999999,120.1,79,120.3,95.09999999999999,121],"hp":[93,62,95,66,52,65,97,66,91,113,109],"drat":[3.85,3.69,3.92,4.08,4.93,4.22,3.7,4.08,4.43,3.77,4.11],"wt":[2.32,3.19,3.15,2.2,1.615,1.835,2.465,1.935,2.14,1.513,2.78],"qsec":[18.61,20,22.9,19.47,18.52,19.9,20.01,18.9,16.7,16.9,18.6],"vs":[1,1,1,1,1,1,1,1,0,1,1],"am":[1,0,0,1,1,1,0,1,1,1,1],"gear":[4,4,4,4,4,4,3,4,5,5,4],"carb":[1,2,2,1,2,1,1,1,2,2,2]},"6":{"mpg":[21,21,21.4,18.1,19.2,17.8,19.7],"cyl":[6,6,6,6,6,6,6],"disp":[160,160,258,225,167.6,167.6,145],"hp":[110,110,110,105,123,123,175],"drat":[3.9,3.9,3.08,2.76,3.92,3.92,3.62],"wt":[2.62,2.875,3.215,3.46,3.44,3.44,2.77],"qsec":[16.46,17.02,19.44,20.22,18.3,18.9,15.5],"vs":[0,0,1,1,1,1,0],"am":[1,1,0,0,0,0,1],"gear":[4,4,3,3,4,4,5],"carb":[4,4,1,1,4,4,6]},"8":{"mpg":[18.7,14.3,16.4,17.3,15.2,10.4,10.4,14.7,15.5,15.2,13.3,19.2,15.8,15],"cyl":[8,8,8,8,8,8,8,8,8,8,8,8,8,8],"disp":[360,360,275.8,275.8,275.8,472,460,440,318,304,350,400,351,301],"hp":[175,245,180,180,180,205,215,230,150,150,245,175,264,335],"drat":[3.15,3.21,3.07,3.07,3.07,2.93,3,3.23,2.76,3.15,3.73,3.08,4.22,3.54],"wt":[3.44,3.57,4.07,3.73,3.78,5.25,5.424,5.345,3.52,3.435,3.84,3.845,3.17,3.57],"qsec":[17.02,15.84,17.4,17.6,18,17.98,17.82,17.42,16.87,17.3,15.41,17.05,14.5,14.6],"vs":[0,0,0,0,0,0,0,0,0,0,0,0,0,0],"am":[0,0,0,0,0,0,0,0,0,0,0,0,1,1],"gear":[3,3,3,3,3,3,3,3,3,3,3,3,5,5],"carb":[2,4,3,3,3,4,4,4,2,2,4,2,4,8]}},"options":{"mode":"tree","modes":["code","form","text","tree","view"]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br></p>
<p>Bir diğer örnek <code>CO2</code> verisi üzerinde olacak.</p>
<div class="cell">
<details>
<summary>Kod</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(CO2)</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  Plant   Type  Treatment conc uptake
1   Qn1 Quebec nonchilled   95   16.0
2   Qn1 Quebec nonchilled  175   30.4
3   Qn1 Quebec nonchilled  250   34.8
4   Qn1 Quebec nonchilled  350   37.2
5   Qn1 Quebec nonchilled  500   35.3
6   Qn1 Quebec nonchilled  675   39.2</code></pre>
</div>
<details>
<summary>Kod</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(CO2)</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>     Plant             Type         Treatment       conc          uptake     
 Qn1    : 7   Quebec     :42   nonchilled:42   Min.   :  95   Min.   : 7.70  
 Qn2    : 7   Mississippi:42   chilled   :42   1st Qu.: 175   1st Qu.:17.90  
 Qn3    : 7                                    Median : 350   Median :28.30  
 Qc1    : 7                                    Mean   : 435   Mean   :27.21  
 Qc3    : 7                                    3rd Qu.: 675   3rd Qu.:37.12  
 Qc2    : 7                                    Max.   :1000   Max.   :45.50  
 (Other):42                                                                  </code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Kod</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>CO2List <span class="ot">&lt;-</span> <span class="fu">split</span>(CO2, <span class="at">f =</span> <span class="fu">list</span>(CO2<span class="sc">$</span>Type, CO2<span class="sc">$</span>Treatment))</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(CO2List,head)</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>$Quebec.nonchilled
  Plant   Type  Treatment conc uptake
1   Qn1 Quebec nonchilled   95   16.0
2   Qn1 Quebec nonchilled  175   30.4
3   Qn1 Quebec nonchilled  250   34.8
4   Qn1 Quebec nonchilled  350   37.2
5   Qn1 Quebec nonchilled  500   35.3
6   Qn1 Quebec nonchilled  675   39.2

$Mississippi.nonchilled
   Plant        Type  Treatment conc uptake
43   Mn1 Mississippi nonchilled   95   10.6
44   Mn1 Mississippi nonchilled  175   19.2
45   Mn1 Mississippi nonchilled  250   26.2
46   Mn1 Mississippi nonchilled  350   30.0
47   Mn1 Mississippi nonchilled  500   30.9
48   Mn1 Mississippi nonchilled  675   32.4

$Quebec.chilled
   Plant   Type Treatment conc uptake
22   Qc1 Quebec   chilled   95   14.2
23   Qc1 Quebec   chilled  175   24.1
24   Qc1 Quebec   chilled  250   30.3
25   Qc1 Quebec   chilled  350   34.6
26   Qc1 Quebec   chilled  500   32.5
27   Qc1 Quebec   chilled  675   35.4

$Mississippi.chilled
   Plant        Type Treatment conc uptake
64   Mc1 Mississippi   chilled   95   10.5
65   Mc1 Mississippi   chilled  175   14.9
66   Mc1 Mississippi   chilled  250   18.1
67   Mc1 Mississippi   chilled  350   18.9
68   Mc1 Mississippi   chilled  500   19.5
69   Mc1 Mississippi   chilled  675   22.2</code></pre>
</div>
</div>
<p>Burada split işlemini geri almak da mümkün ama işlevsiz f argümanı o aşamada elde olması pek mümkün olmayan bir veri.</p>
<div class="cell">
<details>
<summary>Kod</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>dfCO2 <span class="ot">&lt;-</span> <span class="fu">unsplit</span>(CO2List,<span class="at">f =</span> <span class="fu">list</span>(CO2<span class="sc">$</span>Type,CO2<span class="sc">$</span>Treatment))</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="nest" class="level2">
<h2 class="anchored" data-anchor-id="nest">Nest</h2>
<p>Nest ile de list oluşturmak mümkün. Nasıl çalıştığını görmek için önce çok basit bir örnek üzerinde uyguluyoruz. BU örnek orjinal yardım dosyasından.</p>
<div class="cell">
<details>
<summary>Kod</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="at">y =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">z =</span> <span class="dv">6</span><span class="sc">:</span><span class="dv">1</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that we get one row of output for each unique combination of</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># non-nested variables</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>df_nested <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">nest</span>(<span class="at">data =</span> <span class="fu">c</span>(y, z))</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>df_nested</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
      x data            
  &lt;dbl&gt; &lt;list&gt;          
1     1 &lt;tibble [3 × 2]&gt;
2     2 &lt;tibble [2 × 2]&gt;
3     3 &lt;tibble [1 × 2]&gt;</code></pre>
</div>
</div>
<p>nest edilmeyen değişkenlerim her kombinasyonu bir satırda gösteriliyor.</p>
<div class="cell">
<details>
<summary>Kod</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>df_nested[<span class="dv">1</span>,<span class="dv">2</span>][[<span class="dv">1</span>]]</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
# A tibble: 3 × 2
      y     z
  &lt;int&gt; &lt;int&gt;
1     1     6
2     2     5
3     3     4</code></pre>
</div>
</div>
<p>chop benzeri bir işlem yapar ama kolonları da tutar, birleştirmez.</p>
<div class="cell">
<details>
<summary>Kod</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># chop does something similar, but retains individual columns</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>df_chop <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">chop</span>(<span class="fu">c</span>(y, z))</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>df_chop</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
      x           y           z
  &lt;dbl&gt; &lt;list&lt;int&gt;&gt; &lt;list&lt;int&gt;&gt;
1     1         [3]         [3]
2     2         [2]         [2]
3     3         [1]         [1]</code></pre>
</div>
</div>
</section>
</section>
<section id="modify_depth" class="level1">
<h1>Modify_depth</h1>
<p>https://purrr.tidyverse.org/reference/modify.html adresinde konu ile ilgili detaylı açıklama ve çok sayıda örnek mevcut,</p>
<p>Aşağıdaki örnekte bir nested list içinde, 2 seviye içeriden tüm değerleri çekmek için modify depth kullanılabilir.</p>
<div class="cell">
<details>
<summary>Kod</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>l1 <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">obj1 =</span> <span class="fu">list</span>(</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">prop1 =</span> <span class="fu">list</span>(<span class="at">param1 =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">param2 =</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>),</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">prop2 =</span> <span class="fu">list</span>(<span class="at">param1 =</span> <span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">param2 =</span> <span class="dv">7</span><span class="sc">:</span><span class="dv">8</span>)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">obj2 =</span> <span class="fu">list</span>(</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">prop1 =</span> <span class="fu">list</span>(<span class="at">param1 =</span> <span class="dv">9</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">param2 =</span> <span class="dv">11</span><span class="sc">:</span><span class="dv">12</span>),</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">prop2 =</span> <span class="fu">list</span>(<span class="at">param1 =</span> <span class="dv">12</span><span class="sc">:</span><span class="dv">14</span>, <span class="at">param2 =</span> <span class="dv">15</span><span class="sc">:</span><span class="dv">17</span>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>l2 <span class="ot">&lt;-</span> l1 <span class="sc">%&gt;%</span> <span class="fu">modify_depth</span>(<span class="dv">2</span>, <span class="st">"param1"</span>)</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>l2</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>$obj1
$obj1$prop1
[1] 1 2

$obj1$prop2
[1] 5 6


$obj2
$obj2$prop1
[1]  9 10

$obj2$prop2
[1] 12 13 14</code></pre>
</div>
</div>
</section>
<section id="nft-datasını-dönüştürmek" class="level1">
<h1>NFT Datasını Dönüştürmek</h1>
<p>NFT Datasının içinden trait verileri alıp bir tibble’a dönüştürme işiyla başlıyoruz. Aslında verinin içinde trait alt listesinin yapısı son derece düzgün. Amaç bunu dönüştürmek. Temel sıkıntı tekrar etmesi gereken name değerleri var.</p>
<div class="cell">
<details>
<summary>Kod</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"nft_traits.rda"</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">jsonedit</span>(rc_traits_data)</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div class="jsonedit html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-d3756ef50794e012fc57" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-d3756ef50794e012fc57">{"x":{"data":{"collection":{"editors":["0x184d2b149ff1a39444a01df2ef47ad4e4a89dc43","0xdc714dba9b94474b815e9d556454d0e4fe2253ae","0x83c2a6ffd992b3775da96eca53a779144dc56b9d","0x429ed25bcd3b0ac3632dab6b32c21a78c67ea8e6"],"payment_tokens":[{"id":13689077,"symbol":"ETH","address":"0x0000000000000000000000000000000000000000","image_url":"https://openseauserdata.com/files/6f8e2979d428180222796ff4a33ab929.svg","name":"Ether","decimals":18,"eth_price":1,"usd_price":1645.48},{"id":12182941,"symbol":"DAI","address":"0x6b175474e89094c44da98b954eedeac495271d0f","image_url":"https://openseauserdata.com/files/dai-ethereum.svg","name":"Dai Stablecoin","decimals":18,"eth_price":0.00060775,"usd_price":1},{"id":4645681,"symbol":"WETH","address":"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2","image_url":"https://openseauserdata.com/files/accae6b6fb3888cbff27a013729c22dc.svg","name":"Wrapped Ether","decimals":18,"eth_price":1,"usd_price":1645.48},{"id":4403908,"symbol":"USDC","address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","image_url":"https://openseauserdata.com/files/749015f009a66abcb3bbb3502ae2f1ce.svg","name":"USD Coin","decimals":6,"eth_price":0.00060773,"usd_price":1}],"is_collection_offers_enabled":true,"primary_asset_contracts":[{"address":"0xcfff4c8c0df0e2431977eba7df3d3de857f4b76e","asset_contract_type":"non-fungible","created_date":"2021-08-15T05:34:52.669499","name":"RiverMen","nft_version":"3.0","opensea_version":[],"owner":260090723,"schema_name":"ERC721","symbol":"RM","total_supply":"0","description":"Rivermen is a gamified NFT collection based on blockchain technology, created by the Cthuwork&NA team using elements from the voxel version of the “Along the River During Qingming Festival”. The voxel version of “Along the River During Qingming Festival” is a 3D artwork reinterpreting this long scroll, as one of the top ten famous Chinese paintings.\nThe RIVER refers to the \"Bian River\" in this ancient painting scroll. Each person in this scene has a unique identity. The Rivermen are the good neighbors and cool folks living in the \"Bianriverse\".\nThey are not ancient nor modern, but aboriginal people of the \"Bianriverse\", which is a metaverse based on \"Along the River During the Qingming Festival\". They will spend some quality time together in the Bianriverse.\nRiverSpace：https://opensea.io/collection/river-space\nRiverEstate：https://opensea.io/collection/riverestate\nRiverArt：https://opensea.io/collection/riverart\nRivermenGift：https://opensea.io/collection/rivermengift","external_link":"https://rivermen.io/","image_url":"https://i.seadn.io/gae/Kc96kxOK06q1eJ5n_xEp_xExRvEue0NdN2NdjAvleeru1k8XoBhgMkqLayoKKiBpYyvPnva2IPhlFbMw0IW1_-YOL96r-zvtIA_DcA?w=500&auto=format","default_to_fiat":false,"dev_buyer_fee_basis_points":0,"dev_seller_fee_basis_points":500,"only_proxied_transfers":false,"opensea_buyer_fee_basis_points":0,"opensea_seller_fee_basis_points":0,"buyer_fee_basis_points":0,"seller_fee_basis_points":500,"payout_address":"0x53ecf0b18b27d3d06a4ed24b095694c5adca8ab7"}],"traits":{"Type":{"human 3":1774,"zombie":1983,"human 4":1061,"human 1":2292,"human 2":1792,"ghost":1098},"Hat":{"crown":415,"top hat":384,"orchid (potted plant)":176,"pavilion headwear":172,"buddha halo":190,"helmet":397,"centre parting":604,"long winged officer hat":198,"winged cap":315,"double tail":597,"silk thread towel":189,"chrysanthemum (potted plant)":206,"bamboo hat":507,"imperial crown":405,"plum (potted plant)":209,"tilted frisette":601,"bamboo (potted plant)":210,"flag head":340,"single ponytail":520,"golden phoenix crown":192,"double hair updo":344,"cloudy updo":364,"blue phoenix crown":184,"red phoenix crown":197,"miao silver":383,"none":16,"low hat":341,"diaochan hat":348,"taoist hat":357,"haetae hat":337,"literati hat":302},"Head":{"dazed expression":2956,"smiley face":2531,"embarrassed expression":2027,"nine barrels":45,"surprised expression":1632,"kirin":173,"steamed stuffed bun":34,"buddha":81,"noodle":23,"chinese dragon":73,"rice dumpling":29,"dumplings":20,"three barrels":14,"a barrel":25,"facial design of beijing opera":128,"rice":21,"two barrels":25,"eight barrels":27,"six barrels":16,"steamed bun":34,"seven barrels":28,"teapot":10,"four barrels":14,"five barrels":15,"cup":19},"Jacket":{"blue contrast jacket":496,"dark red sweater":374,"brown jacket":315,"orange contrast jacket":408,"dark blue sweater":470,"purple contrast jacket":190,"black and green jacket":475,"dark blue contrast jacket":247,"dark gray sweater":280,"black coat":345,"dark green sweater":167,"green contrast jacket":359,"off-white color matching short sleeves":316,"purple jacket":377,"green jacket":180,"red contrast jacket":375,"green color matching short sleeves":478,"red coat":352,"red jacket":157,"dark green jacket":463,"pink coat":268,"deep purple sweatshirt":384,"blue coat":383,"light green color matching short sleeves":177,"sky blue color matching short sleeves":303,"blue jacket":256,"lavender color matching short sleeves":409,"light blue color matching short sleeves":254,"dark green sweatshirt":385,"light green jacket":357},"Trousers":{"orange trousers":350,"sky blue shorts":386,"black shorts":365,"purple overalls":389,"green shorts":491,"black functional pants":333,"rose red trousers":502,"blue striped pants":283,"purple trousers":268,"yellow-green striped pants":463,"blue and white overalls":293,"purple functional pants":170,"blue and green cargo pants":338,"brown striped pants":364,"pink and green functional pants":370,"pink functional pants":441,"black trousers":360,"orange shorts":288,"grey trousers":380,"blue and white striped pants":356,"light yellow shorts":183,"grey overalls":468,"blue functional pants":329,"denim shorts":359,"grey striped pants":353,"sky blue trousers":169,"khaki overalls":348,"blue grey cargo pants":178,"green functional pants":254,"fuchsia striped pants":169},"Shoes":{"zijin dynasty skate shoes":197,"yellow boots":203,"night city army boots":195,"tropical beach shoes":202,"blue and purple beach shoes":134,"macaron army boots":117,"void tooling shoes":176,"pink and white beach shoes":164,"brown martin boots":179,"grey martin boots":233,"red leather shoes":196,"blue and gray leather shoes":230,"red skate shoes":162,"dark brown army boots":160,"avocado army boots":137,"pink sandals":181,"sky blue basketball shoes":88,"heat tooling shoes":183,"blue and green boots":180,"blue sandals":221,"summer martin boots":133,"purple martin boots":94,"white boots":86,"red sandals":172,"red and blue beach shoes":234,"brown skate shoes":244,"red boots":175,"green basketball shoes":197,"grey sandals":85,"orange martin boots":173,"brown leather shoes":128,"night city tooling shoes":129,"blue basketball shoes":157,"blue and black boots":159,"purple sweet potato military boots":174,"macaron tooling shoes":94,"martin boots":194,"yellow leather shoes":75,"retro style skate shoes":86,"pink basketball shoes":200,"gypsy tooling shoes":168,"light brown army boots":213,"orange boots":144,"turquoise skateboard shoes":124,"summer beach shoes":180,"red and blue boots":264,"grey skate shoes":165,"ice cream boots":208,"green leather shoes":191,"light green basketball shoes":137,"ice cream beach shoes":67,"orange basketball shoes":269,"green boots":234,"mamba tooling shoes":230,"novice boots":137,"green sandals":172,"eskimo boots":82,"khaki sandals":132,"pink leather shoes":207,"blue boots":149},"USED":{"yes":5091,"no":4909},"Identity":{"the pedestrian":50,"tax officer a":55,"boatman a":50,"the restaurant owner":50,"the fortune-telling customer a":49,"the director":50,"the passing-by wooden-luggage porter":55,"the traveler on the bridge":49,"the vendor":50,"carter c":49,"a passer-by with a burden":50,"wine-carrying solider a":55,"the waiting coachman":50,"the restaurant customer":50,"restaurant guest b":49,"servant b":50,"chatting teahouse guest b":50,"the bellman":55,"a father and a son":50,"chatting teahouse guest, a":50,"sculling boatman b":49,"bystander d":50,"the house horse-leading servant":55,"the delivery boaters":50,"idle soldier d":49,"the store owner":50,"restaurant guest a":50,"the following porter":50,"the cake stand owner":50,"the walking-by porter":50,"warning boatman a":50,"the house pole-carrying servant":50,"the palanquin-carrier of the civil official":50,"the hotel waiter":50,"the vegetable farmer":50,"the caravan leader":50,"the child-holding woman":50,"the absent-minded pedestrian":50,"the barge haulers":50,"traveler b":50,"idle soldier a":50,"the babycaring maid":50,"silk store customer a":50,"warning boatman c":50,"teahouse guest b":50,"the coachman of the civil official":50,"the young farmer":49,"monks":10,"the shoes-trying-on customers":49,"the pedestrians":50,"the shading scholar":50,"chatting teahouse guest c":50,"the horse-chasing coachman":50,"the wheaten food vendor":49,"restaurant guest c":50,"barge hauler a":49,"water carrier b":49,"confucian student a":49,"the taciturn seller":15,"the palanquin-carrier":55,"the scholar in white":49,"the beauty in red":49,"the cordage stall owner":50,"the cart hauler":50,"the walking officer":50,"traveler a":50,"the laundering old woman":50,"ship passenger b":50,"the lamb stall owner":15,"the bargaining drinker":50,"drinker b":50,"the furniture store owner":50,"the rich student":15,"the treating teenager":50,"warning boatman b":50,"cash-in-transit guard a":50,"arguing scholar b":55,"traveler c":50,"caravan followers":50,"carter a":49,"the clinic doctor":50,"the horse-riding passer-by":50,"the old shaving man":50,"barge hauler b":50,"the lookers-on":49,"ship passenger a":50,"the divination interpreter":50,"the herb-drinks vendor":50,"the easy porter":55,"shipmate b":50,"the inviting scholar":55,"the flower buyer":50,"carter b":49,"the audience":50,"sculler-holding boatman d":49,"the bodyguard servant":50,"the old donkey-riding lady":50,"teahouse guest c":50,"the tea drinking customers":50,"the poling boatman":50,"fortune teller a":50,"the way-asking countryman":50,"the wine cart fella":50,"the sacrificing boatman":50,"tax officer c":55,"the touring scholar":53,"bystander c":49,"the boatman-in-command":50,"sculler-holding boatman a":50,"boatman b":50,"the drinking customer":49,"the teenage farmer":50,"the old seller":50,"the wandering -around passersby":55,"the halting passer-by":50,"the inn owner":50,"wine-carrying solider b":54,"the shipowner":49,"troubled carter b":50,"confucian student b":50,"the cart puller":50,"the buyer":50,"the flower seller":50,"the palanquin-carrying servants":50,"the matchmaker":52,"silk store customer b":49,"the smuggler":49,"the wine carter":50,"water carrier a":50,"the paraffin oil buyer":50,"the soldier":50,"sculling boatman c":48,"the pondering scholar":55,"the fortune-telling customer":50,"the old charcoal seller":15,"the toy vendor":50,"farmer b":50,"cash-in-transit guard b":50,"cake stand customers":50,"the arguing carter":54,"the restaurant waiter":50,"the horse-riding master":50,"servant a":50,"the flower-buying hostess":50,"the accompanying women":49,"the military official":15,"teahouse guest a":50,"the horse-leading servant":50,"the panicking baby-holding woman":50,"the rest-taking porter":49,"the fortune-telling looker-on":50,"the discontent bystander":50,"the wheel carpenters":50,"the pole-carrying servant":49,"idle soldier c":50,"bystander a":50,"shipmate a":50,"water carrier c":50,"the delivery man":50,"the old donkey-riding man":50,"the mysterious hostess":54,"the salt store owner":50,"idle soldier b":49,"the audience with a child":50,"the bending bystander":50,"troubled carter a":50,"the annoyed scholar":55,"tax officer b":55,"the flower stall owner":50,"the storyteller":50,"the exhausted porter":55,"drinker a":50,"sculler-holding boatman b":50,"the fan-holding scholar":55,"the luggage-carrying coachman":50,"the tavern waiter":50,"the rest-taking boatman":50,"the paper horse vendor":50,"the following servant":50,"the prayer-holding host":50,"bystander b":49,"the traveling scholar":50,"arguing scholar a":54,"the refuged porter":50,"the begging monk":49,"farmer a":50,"the wood-milling carpenter":50,"the rich man":50,"the cordage stall customers":49,"the shaving customer":50,"the passing-by porter":50,"the inquirying woman":50,"the deputy military official":50,"the bow-shooting officer":55,"the sheep butcher":50,"drunk soldier a":48,"drunk soldier b":50,"the fortune teller":49,"the noble lady":50,"sculler-holding boatman c":49,"the guiding doorkeeper":50,"sculling boatman a":50},"Background":{"background 2":1378,"background 7":1310,"background 5":1432,"background 4":1501,"background 1":1485,"background 6":1416,"background 3":1478}},"stats":{"one_hour_volume":1.748800000000001,"one_hour_change":1.732499957084656,"one_hour_sales":22,"one_hour_sales_change":1.75,"one_hour_average_price":0.07949090909090911,"one_hour_difference":1.1088,"six_hour_volume":4.509800000000002,"six_hour_change":1.296232223510742,"six_hour_sales":57,"six_hour_sales_change":1.279999971389771,"six_hour_average_price":0.07911929824561408,"six_hour_difference":2.545800000000002,"one_day_volume":233.8624400000008,"one_day_change":0.2826482057571411,"one_day_sales":198,"one_day_sales_change":0.1314285695552826,"one_day_average_price":1.181123434343438,"one_day_difference":51.53463000000133,"seven_day_volume":537.3888700000037,"seven_day_change":1246.131283360417,"seven_day_sales":525,"seven_day_average_price":1.023597847619055,"seven_day_difference":536.9579700000038,"thirty_day_volume":538.9754700000036,"thirty_day_change":272.9114041774679,"thirty_day_sales":551,"thirty_day_average_price":0.9781768965517307,"thirty_day_difference":537.0077700000036,"total_volume":1833.24677959707,"total_sales":5741,"total_supply":9992,"count":9992,"num_owners":1528,"average_price":0.3193253404628236,"num_reports":1,"market_cap":10227.7896934096,"floor_price":0.08},"banner_image_url":"https://i.seadn.io/gae/VZowVg9mtZOBs0NGB9Mq6q4I2ZS1_drtc9K_0QPgBtgAvuoaOdfnwr7zQrqujj9sWfuiJCoiLImSDaLjCNnf05TCbAFl_EarqG_dTw?w=500&auto=format","chat_url":[],"created_date":"2021-08-15T08:00:37.309132+00:00","default_to_fiat":false,"description":"Rivermen is a gamified NFT collection based on blockchain technology, created by the Cthuwork&NA team using elements from the voxel version of the “Along the River During Qingming Festival”. The voxel version of “Along the River During Qingming Festival” is a 3D artwork reinterpreting this long scroll, as one of the top ten famous Chinese paintings.\nThe RIVER refers to the \"Bian River\" in this ancient painting scroll. Each person in this scene has a unique identity. The Rivermen are the good neighbors and cool folks living in the \"Bianriverse\".\nThey are not ancient nor modern, but aboriginal people of the \"Bianriverse\", which is a metaverse based on \"Along the River During the Qingming Festival\". They will spend some quality time together in the Bianriverse.\nRiverSpace：https://opensea.io/collection/river-space\nRiverEstate：https://opensea.io/collection/riverestate\nRiverArt：https://opensea.io/collection/riverart\nRivermenGift：https://opensea.io/collection/rivermengift","dev_buyer_fee_basis_points":"0","dev_seller_fee_basis_points":"500","discord_url":"https://discord.gg/rivermen","display_data":{"card_display_style":"contain","images":[]},"external_url":"https://rivermen.io/","featured":false,"featured_image_url":"https://i.seadn.io/gae/wz2X5eupdm0HzsTRFvpqI86VBNEGgq1XH9V4kKAs5-rppnBpM2gASLp2bDvJpLzYzDlIHRLwqsi2GMOpI71jLL56-wN67VGl7XBCPBQ?w=500&auto=format","hidden":false,"safelist_request_status":"verified","image_url":"https://i.seadn.io/gae/Kc96kxOK06q1eJ5n_xEp_xExRvEue0NdN2NdjAvleeru1k8XoBhgMkqLayoKKiBpYyvPnva2IPhlFbMw0IW1_-YOL96r-zvtIA_DcA?w=500&auto=format","is_subject_to_whitelist":false,"large_image_url":"https://i.seadn.io/gae/wz2X5eupdm0HzsTRFvpqI86VBNEGgq1XH9V4kKAs5-rppnBpM2gASLp2bDvJpLzYzDlIHRLwqsi2GMOpI71jLL56-wN67VGl7XBCPBQ?w=500&auto=format","medium_username":"Rivermen","name":"Rivermen","only_proxied_transfers":false,"opensea_buyer_fee_basis_points":"0","opensea_seller_fee_basis_points":0,"payout_address":"0x53ecf0b18b27d3d06a4ed24b095694c5adca8ab7","require_email":false,"short_description":[],"slug":"rivermen","telegram_url":"https://t.me/RivermenEN","twitter_username":"RivermenNFT","instagram_username":"rivermen_nft/","wiki_url":[],"is_nsfw":false,"fees":{"seller_fees":{"0x53ecf0b18b27d3d06a4ed24b095694c5adca8ab7":500},"opensea_fees":{}},"is_rarity_enabled":false,"is_creator_fees_enforced":false}},"options":{"mode":"tree","modes":["code","form","text","tree","view"]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<section id="map---enframe---unnest" class="level3">
<h3 class="anchored" data-anchor-id="map---enframe---unnest">Map - Enframe - Unnest</h3>
<p>Enframe ile baştan bir yapı empoze edilebiliyor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>d0 <span class="ot">&lt;-</span> rc_traits_data<span class="sc">$</span>collection<span class="sc">$</span>traits</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>d1 <span class="ot">&lt;-</span> d0 <span class="sc">%&gt;%</span> <span class="fu">enframe</span>(<span class="at">name =</span> <span class="st">"name"</span>, <span class="at">value =</span> <span class="st">"values"</span>)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>d1</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 2
  name       values            
  &lt;chr&gt;      &lt;list&gt;            
1 Type       &lt;named list [6]&gt;  
2 Hat        &lt;named list [31]&gt; 
3 Head       &lt;named list [25]&gt; 
4 Jacket     &lt;named list [30]&gt; 
5 Trousers   &lt;named list [30]&gt; 
6 Shoes      &lt;named list [60]&gt; 
7 USED       &lt;named list [2]&gt;  
8 Identity   &lt;named list [202]&gt;
9 Background &lt;named list [7]&gt;  </code></pre>
</div>
</div>
<p>Amaç values sütununda bulunan her list’i tibble’a dönüştürmek. Aşağıdaki kodu anlamak çok kritik. Tibble içinde map işlemi nasıl yapılır onu gösteriyor. İki farklı şekilde aynı sonuca ulaşıyorum. Birincisinde satır bazında her list’in uzunluğunu hesaplatıyorum. İkincisinde ise tek defada bütün values kolonuna işlem uygulayıp yeni değişken oluşturuyorum.</p>
<p>Daha basitleştirmek için: bir tibble içinde bir değişkeni iki ile çarparak yeni bir değişken oluşturmak istensin. Nasıl yapılır? İki yolu var. Birincisi, satır bazında işlem yapılır. Excel’de olduğu gibi. Yan hücrenin iki katını al, aşağıya şek. Eğer hücre bazına indirmeden length hesaplamaya kalkılırsa bütün kolonunun length’i hesaplanıp her hücreye yazılır ki bu bir hatadır. İkinci yol ise vektör operasyonu kullanmak. Değişkeni bir vektör olarak alıp, vektörü iki ile çarpıp, sonucu tibble’a yeni bir değişken olarak yerleştirmek. İşte <code>map</code> ile yapılan ikincisi. Bu işlem çok daha hızlı oluyor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>d2<span class="fl">.0</span> <span class="ot">&lt;-</span> d1 <span class="sc">%&gt;%</span> <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">n_t=</span><span class="fu">length</span>(values))</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>d2<span class="fl">.0</span></span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 3
# Rowwise: 
  name       values               n_t
  &lt;chr&gt;      &lt;list&gt;             &lt;int&gt;
1 Type       &lt;named list [6]&gt;       6
2 Hat        &lt;named list [31]&gt;     31
3 Head       &lt;named list [25]&gt;     25
4 Jacket     &lt;named list [30]&gt;     30
5 Trousers   &lt;named list [30]&gt;     30
6 Shoes      &lt;named list [60]&gt;     60
7 USED       &lt;named list [2]&gt;       2
8 Identity   &lt;named list [202]&gt;   202
9 Background &lt;named list [7]&gt;       7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>d2.<span class="fl">0.</span>error <span class="ot">&lt;-</span> d1 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">n_t=</span><span class="fu">length</span>(values))</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>d2.<span class="fl">0.</span>error</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 3
  name       values               n_t
  &lt;chr&gt;      &lt;list&gt;             &lt;int&gt;
1 Type       &lt;named list [6]&gt;       9
2 Hat        &lt;named list [31]&gt;      9
3 Head       &lt;named list [25]&gt;      9
4 Jacket     &lt;named list [30]&gt;      9
5 Trousers   &lt;named list [30]&gt;      9
6 Shoes      &lt;named list [60]&gt;      9
7 USED       &lt;named list [2]&gt;       9
8 Identity   &lt;named list [202]&gt;     9
9 Background &lt;named list [7]&gt;       9</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>d2 <span class="ot">&lt;-</span> d1 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">n_t =</span> <span class="fu">map_int</span>(values,length))</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>d2</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 3
  name       values               n_t
  &lt;chr&gt;      &lt;list&gt;             &lt;int&gt;
1 Type       &lt;named list [6]&gt;       6
2 Hat        &lt;named list [31]&gt;     31
3 Head       &lt;named list [25]&gt;     25
4 Jacket     &lt;named list [30]&gt;     30
5 Trousers   &lt;named list [30]&gt;     30
6 Shoes      &lt;named list [60]&gt;     60
7 USED       &lt;named list [2]&gt;       2
8 Identity   &lt;named list [202]&gt;   202
9 Background &lt;named list [7]&gt;       7</code></pre>
</div>
</div>
</section>
</section>
<section id="rectangling" class="level1">
<h1>Rectangling</h1>
<p>Burada https://tidyr.tidyverse.org/articles/rectangle.html adresindeki örnekleri detaylandıracağım.</p>
<div class="cell">
<details>
<summary>Kod</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(repurrrsive)</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>users <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">user =</span> gh_users)</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">jsonedit</span>(users)</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="jsonedit html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-b3d6403bb02c9c8bd251" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-b3d6403bb02c9c8bd251">{"x":{"data":{"user":[{"login":"gaborcsardi","id":660288,"avatar_url":"https://avatars.githubusercontent.com/u/660288?v=3","gravatar_id":"","url":"https://api.github.com/users/gaborcsardi","html_url":"https://github.com/gaborcsardi","followers_url":"https://api.github.com/users/gaborcsardi/followers","following_url":"https://api.github.com/users/gaborcsardi/following{/other_user}","gists_url":"https://api.github.com/users/gaborcsardi/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborcsardi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborcsardi/subscriptions","organizations_url":"https://api.github.com/users/gaborcsardi/orgs","repos_url":"https://api.github.com/users/gaborcsardi/repos","events_url":"https://api.github.com/users/gaborcsardi/events{/privacy}","received_events_url":"https://api.github.com/users/gaborcsardi/received_events","type":"User","site_admin":false,"name":"Gábor Csárdi","company":"Mango Solutions, @MangoTheCat ","blog":"http://gaborcsardi.org","location":"Chippenham, UK","email":"csardi.gabor@gmail.com","hireable":null,"bio":null,"public_repos":52,"public_gists":6,"followers":303,"following":22,"created_at":"2011-03-09T17:29:25Z","updated_at":"2016-10-11T11:05:06Z"},{"login":"jennybc","id":599454,"avatar_url":"https://avatars.githubusercontent.com/u/599454?v=3","gravatar_id":"","url":"https://api.github.com/users/jennybc","html_url":"https://github.com/jennybc","followers_url":"https://api.github.com/users/jennybc/followers","following_url":"https://api.github.com/users/jennybc/following{/other_user}","gists_url":"https://api.github.com/users/jennybc/gists{/gist_id}","starred_url":"https://api.github.com/users/jennybc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jennybc/subscriptions","organizations_url":"https://api.github.com/users/jennybc/orgs","repos_url":"https://api.github.com/users/jennybc/repos","events_url":"https://api.github.com/users/jennybc/events{/privacy}","received_events_url":"https://api.github.com/users/jennybc/received_events","type":"User","site_admin":false,"name":"Jennifer (Jenny) Bryan","company":"University of British Columbia","blog":"https://twitter.com/JennyBryan","location":"Vancouver, BC, Canada","email":null,"hireable":null,"bio":"prof at UBC, humane #rstats, statistics, teach @STAT545-UBC, leadership of @rOpenSci, @rsheets, academic director @ubc-mds","public_repos":168,"public_gists":54,"followers":780,"following":34,"created_at":"2011-02-03T22:37:41Z","updated_at":"2016-10-24T07:20:26Z"},{"login":"jtleek","id":1571674,"avatar_url":"https://avatars.githubusercontent.com/u/1571674?v=3","gravatar_id":"","url":"https://api.github.com/users/jtleek","html_url":"https://github.com/jtleek","followers_url":"https://api.github.com/users/jtleek/followers","following_url":"https://api.github.com/users/jtleek/following{/other_user}","gists_url":"https://api.github.com/users/jtleek/gists{/gist_id}","starred_url":"https://api.github.com/users/jtleek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtleek/subscriptions","organizations_url":"https://api.github.com/users/jtleek/orgs","repos_url":"https://api.github.com/users/jtleek/repos","events_url":"https://api.github.com/users/jtleek/events{/privacy}","received_events_url":"https://api.github.com/users/jtleek/received_events","type":"User","site_admin":false,"name":"Jeff L.","company":null,"blog":"http://biostat.jhsph.edu/~jleek/","location":"Baltimore,MD","email":null,"hireable":null,"bio":null,"public_repos":67,"public_gists":12,"followers":3958,"following":6,"created_at":"2012-03-24T18:16:43Z","updated_at":"2016-10-05T13:03:04Z"},{"login":"juliasilge","id":12505835,"avatar_url":"https://avatars.githubusercontent.com/u/12505835?v=3","gravatar_id":"","url":"https://api.github.com/users/juliasilge","html_url":"https://github.com/juliasilge","followers_url":"https://api.github.com/users/juliasilge/followers","following_url":"https://api.github.com/users/juliasilge/following{/other_user}","gists_url":"https://api.github.com/users/juliasilge/gists{/gist_id}","starred_url":"https://api.github.com/users/juliasilge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juliasilge/subscriptions","organizations_url":"https://api.github.com/users/juliasilge/orgs","repos_url":"https://api.github.com/users/juliasilge/repos","events_url":"https://api.github.com/users/juliasilge/events{/privacy}","received_events_url":"https://api.github.com/users/juliasilge/received_events","type":"User","site_admin":false,"name":"Julia Silge","company":null,"blog":"juliasilge.com","location":"Salt Lake City, UT","email":null,"hireable":null,"bio":"Data science and visualization, #rstats, parenthood, reading, food/wine/coffee, #NASADatanauts.","public_repos":26,"public_gists":4,"followers":115,"following":10,"created_at":"2015-05-19T02:51:23Z","updated_at":"2016-10-20T10:41:43Z"},{"login":"leeper","id":3505428,"avatar_url":"https://avatars.githubusercontent.com/u/3505428?v=3","gravatar_id":"","url":"https://api.github.com/users/leeper","html_url":"https://github.com/leeper","followers_url":"https://api.github.com/users/leeper/followers","following_url":"https://api.github.com/users/leeper/following{/other_user}","gists_url":"https://api.github.com/users/leeper/gists{/gist_id}","starred_url":"https://api.github.com/users/leeper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leeper/subscriptions","organizations_url":"https://api.github.com/users/leeper/orgs","repos_url":"https://api.github.com/users/leeper/repos","events_url":"https://api.github.com/users/leeper/events{/privacy}","received_events_url":"https://api.github.com/users/leeper/received_events","type":"User","site_admin":false,"name":"Thomas J. Leeper","company":"London School of Economics","blog":"http://www.thomasleeper.com","location":"London, United Kingdom","email":null,"hireable":true,"bio":"Political scientist and R hacker. Interested in open science, public opinion research, surveys, experiments, crowdsourcing, and cloud computing.","public_repos":99,"public_gists":46,"followers":213,"following":230,"created_at":"2013-02-07T21:07:00Z","updated_at":"2016-10-20T10:36:25Z"},{"login":"masalmon","id":8360597,"avatar_url":"https://avatars.githubusercontent.com/u/8360597?v=3","gravatar_id":"","url":"https://api.github.com/users/masalmon","html_url":"https://github.com/masalmon","followers_url":"https://api.github.com/users/masalmon/followers","following_url":"https://api.github.com/users/masalmon/following{/other_user}","gists_url":"https://api.github.com/users/masalmon/gists{/gist_id}","starred_url":"https://api.github.com/users/masalmon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masalmon/subscriptions","organizations_url":"https://api.github.com/users/masalmon/orgs","repos_url":"https://api.github.com/users/masalmon/repos","events_url":"https://api.github.com/users/masalmon/events{/privacy}","received_events_url":"https://api.github.com/users/masalmon/received_events","type":"User","site_admin":false,"name":"Maëlle Salmon","company":"ISGlobal","blog":"https://masalmon.github.io/","location":"Barcelona, Spain","email":null,"hireable":null,"bio":"I use R for getting, preparing, visualizing and analyzing data mostly about air quality & public health.","public_repos":31,"public_gists":0,"followers":34,"following":38,"created_at":"2014-08-05T08:10:04Z","updated_at":"2016-10-24T09:54:57Z"}]},"options":{"mode":"tree","modes":["code","form","text","tree","view"]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
List tipinde veriyi indekleme konusunu sık sık unutuyorum.
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>l1 <span class="ot">&lt;-</span> users[[<span class="dv">1</span>]][[<span class="dv">1</span>]]</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>l1</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$login
[1] "gaborcsardi"

$id
[1] 660288

$avatar_url
[1] "https://avatars.githubusercontent.com/u/660288?v=3"

$gravatar_id
[1] ""

$url
[1] "https://api.github.com/users/gaborcsardi"

$html_url
[1] "https://github.com/gaborcsardi"

$followers_url
[1] "https://api.github.com/users/gaborcsardi/followers"

$following_url
[1] "https://api.github.com/users/gaborcsardi/following{/other_user}"

$gists_url
[1] "https://api.github.com/users/gaborcsardi/gists{/gist_id}"

$starred_url
[1] "https://api.github.com/users/gaborcsardi/starred{/owner}{/repo}"

$subscriptions_url
[1] "https://api.github.com/users/gaborcsardi/subscriptions"

$organizations_url
[1] "https://api.github.com/users/gaborcsardi/orgs"

$repos_url
[1] "https://api.github.com/users/gaborcsardi/repos"

$events_url
[1] "https://api.github.com/users/gaborcsardi/events{/privacy}"

$received_events_url
[1] "https://api.github.com/users/gaborcsardi/received_events"

$type
[1] "User"

$site_admin
[1] FALSE

$name
[1] "Gábor Csárdi"

$company
[1] "Mango Solutions, @MangoTheCat "

$blog
[1] "http://gaborcsardi.org"

$location
[1] "Chippenham, UK"

$email
[1] "csardi.gabor@gmail.com"

$hireable
NULL

$bio
NULL

$public_repos
[1] 52

$public_gists
[1] 6

$followers
[1] 303

$following
[1] 22

$created_at
[1] "2011-03-09T17:29:25Z"

$updated_at
[1] "2016-10-11T11:05:06Z"</code></pre>
</div>
</div>
<p>Aslında <code>l1</code> en temel list tipi olan vector’den ibaret. Daha doğrusu named vector.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>l1v <span class="ot">&lt;-</span> <span class="fu">unlist</span>(l1)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>l1v[<span class="st">"followers"</span>]</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>followers 
    "303" </code></pre>
</div>
</div>
<p>Each <code>user</code> is a named list, where each element represents a column.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(users<span class="sc">$</span>user[[<span class="dv">1</span>]])</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "login"               "id"                  "avatar_url"         
 [4] "gravatar_id"         "url"                 "html_url"           
 [7] "followers_url"       "following_url"       "gists_url"          
[10] "starred_url"         "subscriptions_url"   "organizations_url"  
[13] "repos_url"           "events_url"          "received_events_url"
[16] "type"                "site_admin"          "name"               
[19] "company"             "blog"                "location"           
[22] "email"               "hireable"            "bio"                
[25] "public_repos"        "public_gists"        "followers"          
[28] "following"           "created_at"          "updated_at"         </code></pre>
</div>
</div>
</div>
</div>
</div>
<p>There are two ways to turn the list components into columns. unnest_wider() takes every component and makes a new column:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>userswide <span class="ot">&lt;-</span> users <span class="sc">%&gt;%</span> <span class="fu">unnest_wider</span>(user)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>userswide</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 30
  login     id avatar_url gravatar_id url   html_url followers_url following_url
  &lt;chr&gt;  &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;         &lt;chr&gt;        
1 gabo… 6.60e5 https://a… ""          http… https:/… https://api.… https://api.…
2 jenn… 5.99e5 https://a… ""          http… https:/… https://api.… https://api.…
3 jtle… 1.57e6 https://a… ""          http… https:/… https://api.… https://api.…
4 juli… 1.25e7 https://a… ""          http… https:/… https://api.… https://api.…
5 leep… 3.51e6 https://a… ""          http… https:/… https://api.… https://api.…
6 masa… 8.36e6 https://a… ""          http… https:/… https://api.… https://api.…
# ℹ 22 more variables: gists_url &lt;chr&gt;, starred_url &lt;chr&gt;,
#   subscriptions_url &lt;chr&gt;, organizations_url &lt;chr&gt;, repos_url &lt;chr&gt;,
#   events_url &lt;chr&gt;, received_events_url &lt;chr&gt;, type &lt;chr&gt;, site_admin &lt;lgl&gt;,
#   name &lt;chr&gt;, company &lt;chr&gt;, blog &lt;chr&gt;, location &lt;chr&gt;, email &lt;chr&gt;,
#   hireable &lt;lgl&gt;, bio &lt;chr&gt;, public_repos &lt;int&gt;, public_gists &lt;int&gt;,
#   followers &lt;int&gt;, following &lt;int&gt;, created_at &lt;chr&gt;, updated_at &lt;chr&gt;</code></pre>
</div>
</div>
<p>But in this case, there are many components and we don’t need most of them so we can instead use hoist(). hoist() allows us to pull out selected components using the same syntax as purrr::pluck():</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>users <span class="sc">%&gt;%</span> <span class="fu">hoist</span>(user, </span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">followers =</span> <span class="st">"followers"</span>, </span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">login =</span> <span class="st">"login"</span>, </span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">url =</span> <span class="st">"html_url"</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  followers login       url                            user             
      &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;                          &lt;list&gt;           
1       303 gaborcsardi https://github.com/gaborcsardi &lt;named list [27]&gt;
2       780 jennybc     https://github.com/jennybc     &lt;named list [27]&gt;
3      3958 jtleek      https://github.com/jtleek      &lt;named list [27]&gt;
4       115 juliasilge  https://github.com/juliasilge  &lt;named list [27]&gt;
5       213 leeper      https://github.com/leeper      &lt;named list [27]&gt;
6        34 masalmon    https://github.com/masalmon    &lt;named list [27]&gt;</code></pre>
</div>
</div>
<p>Bu acaip bir şey. Elde eğer her satırda list olan bir yapı varsa, içinden parça parça değişken çıkartabiliyoruz.</p>
<p>We start off gh_repos similarly, by putting it in a tibble:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>repos <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">repo =</span> gh_repos)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>repos</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 1
  repo       
  &lt;list&gt;     
1 &lt;list [30]&gt;
2 &lt;list [30]&gt;
3 &lt;list [30]&gt;
4 &lt;list [26]&gt;
5 &lt;list [30]&gt;
6 &lt;list [30]&gt;</code></pre>
</div>
</div>
<p>This time the elements of repos are a list of repositories that belong to that user. These are observations, so should become new rows, so we use unnest_longer() rather than unnest_wider():</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>repos0 <span class="ot">&lt;-</span> repos <span class="sc">%&gt;%</span> <span class="fu">unnest_longer</span>(repo)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>repos0</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 176 × 1
   repo             
   &lt;list&gt;           
 1 &lt;named list [68]&gt;
 2 &lt;named list [68]&gt;
 3 &lt;named list [68]&gt;
 4 &lt;named list [68]&gt;
 5 &lt;named list [68]&gt;
 6 &lt;named list [68]&gt;
 7 &lt;named list [68]&gt;
 8 &lt;named list [68]&gt;
 9 &lt;named list [68]&gt;
10 &lt;named list [68]&gt;
# ℹ 166 more rows</code></pre>
</div>
</div>
<p>Aslına bu şekilde 6 kullanıcınında repolarını alt alta koyduk ve devamında unnest_wider veya hoist kullanarak verileri dışarı çıkarabilir. Ama eğer mesela sadece birinci user’ın repoları ile çalışmak isteseydik önce o user’ın olduğu list’i tibble yapmak gerekecekti.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>firstUser <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">repo=</span>repos[[<span class="dv">1</span>]][[<span class="dv">1</span>]])</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>firstUser</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 1
   repo             
   &lt;list&gt;           
 1 &lt;named list [68]&gt;
 2 &lt;named list [68]&gt;
 3 &lt;named list [68]&gt;
 4 &lt;named list [68]&gt;
 5 &lt;named list [68]&gt;
 6 &lt;named list [68]&gt;
 7 &lt;named list [68]&gt;
 8 &lt;named list [68]&gt;
 9 &lt;named list [68]&gt;
10 &lt;named list [68]&gt;
# ℹ 20 more rows</code></pre>
</div>
</div>
<p>Eğer devamında unnest_longer denirse bu durumda alt seviye tamamen dışarıya çıkıyor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>firstUser <span class="sc">%&gt;%</span> <span class="fu">unnest_longer</span>(repo)</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,040 × 2
   repo              repo_id    
   &lt;named list&gt;      &lt;chr&gt;      
 1 &lt;int [1]&gt;         id         
 2 &lt;chr [1]&gt;         name       
 3 &lt;chr [1]&gt;         full_name  
 4 &lt;named list [17]&gt; owner      
 5 &lt;lgl [1]&gt;         private    
 6 &lt;chr [1]&gt;         html_url   
 7 &lt;chr [1]&gt;         description
 8 &lt;lgl [1]&gt;         fork       
 9 &lt;chr [1]&gt;         url        
10 &lt;chr [1]&gt;         forks_url  
# ℹ 2,030 more rows</code></pre>
</div>
</div>
<p>Ama kısmen değerlere hoist veya unnest_wider ile mümkün. Önce hoist kodunu veriyorum çünkü bu zaten sitede de var.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>firstUser <span class="sc">%&gt;%</span> <span class="fu">hoist</span>(repo, </span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">login =</span> <span class="fu">c</span>(<span class="st">"owner"</span>, <span class="st">"login"</span>), </span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="st">"name"</span>,</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">homepage =</span> <span class="st">"homepage"</span>,</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">watchers =</span> <span class="st">"watchers_count"</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 5
   login       name        homepage watchers repo             
   &lt;chr&gt;       &lt;chr&gt;       &lt;chr&gt;       &lt;int&gt; &lt;list&gt;           
 1 gaborcsardi after       &lt;NA&gt;            5 &lt;named list [65]&gt;
 2 gaborcsardi argufy      &lt;NA&gt;           19 &lt;named list [65]&gt;
 3 gaborcsardi ask         &lt;NA&gt;            5 &lt;named list [65]&gt;
 4 gaborcsardi baseimports &lt;NA&gt;            0 &lt;named list [65]&gt;
 5 gaborcsardi citest      &lt;NA&gt;            0 &lt;named list [65]&gt;
 6 gaborcsardi clisymbols  ""             18 &lt;named list [65]&gt;
 7 gaborcsardi cmaker      &lt;NA&gt;            0 &lt;named list [65]&gt;
 8 gaborcsardi cmark       &lt;NA&gt;            0 &lt;named list [65]&gt;
 9 gaborcsardi conditions  &lt;NA&gt;            0 &lt;named list [65]&gt;
10 gaborcsardi crayon      &lt;NA&gt;           52 &lt;named list [65]&gt;
# ℹ 20 more rows</code></pre>
</div>
</div>
<p>Bu da unnest_wider kodu;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>firstUser <span class="sc">%&gt;%</span> <span class="fu">unnest_wider</span>(repo)</span></code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 68
        id name  full_name owner        private html_url description fork  url  
     &lt;int&gt; &lt;chr&gt; &lt;chr&gt;     &lt;list&gt;       &lt;lgl&gt;   &lt;chr&gt;    &lt;chr&gt;       &lt;lgl&gt; &lt;chr&gt;
 1  6.12e7 after gaborcsa… &lt;named list&gt; FALSE   https:/… Run Code i… FALSE http…
 2  4.05e7 argu… gaborcsa… &lt;named list&gt; FALSE   https:/… Declarativ… FALSE http…
 3  3.64e7 ask   gaborcsa… &lt;named list&gt; FALSE   https:/… Friendly C… FALSE http…
 4  3.49e7 base… gaborcsa… &lt;named list&gt; FALSE   https:/… Do we get … FALSE http…
 5  6.16e7 cite… gaborcsa… &lt;named list&gt; FALSE   https:/… Test R pac… TRUE  http…
 6  3.39e7 clis… gaborcsa… &lt;named list&gt; FALSE   https:/… Unicode sy… FALSE http…
 7  3.72e7 cmak… gaborcsa… &lt;named list&gt; FALSE   https:/… port of cm… TRUE  http…
 8  6.80e7 cmark gaborcsa… &lt;named list&gt; FALSE   https:/… CommonMark… TRUE  http…
 9  6.32e7 cond… gaborcsa… &lt;named list&gt; FALSE   https:/… &lt;NA&gt;        TRUE  http…
10  2.43e7 cray… gaborcsa… &lt;named list&gt; FALSE   https:/… R package … FALSE http…
# ℹ 20 more rows
# ℹ 59 more variables: forks_url &lt;chr&gt;, keys_url &lt;chr&gt;,
#   collaborators_url &lt;chr&gt;, teams_url &lt;chr&gt;, hooks_url &lt;chr&gt;,
#   issue_events_url &lt;chr&gt;, events_url &lt;chr&gt;, assignees_url &lt;chr&gt;,
#   branches_url &lt;chr&gt;, tags_url &lt;chr&gt;, blobs_url &lt;chr&gt;, git_tags_url &lt;chr&gt;,
#   git_refs_url &lt;chr&gt;, trees_url &lt;chr&gt;, statuses_url &lt;chr&gt;,
#   languages_url &lt;chr&gt;, stargazers_url &lt;chr&gt;, contributors_url &lt;chr&gt;, …</code></pre>
</div>
</div>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Yeniden kullanın</h2><div id="quarto-reuse" class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.tr">https://creativecommons.org/licenses/by/4.0/deed.tr</a></div></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Alıntı</h2><div><div class="quarto-appendix-secondary-label">BibTeX</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{serkan albayrak2022,
  author = {Serkan Albayrak, Raif},
  title = {List veri yapısı üzerine üzerine notlar ve map Fonksiyonu},
  date = {2022-12-11},
  langid = {tr}
}
</code><button title="Panoya Kopyala" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">Lütfen bu çalışmayı şu şekilde alıntılayın:</div><div id="ref-serkan albayrak2022" class="csl-entry quarto-appendix-citeas" role="listitem">
Serkan Albayrak, Raif. 2022. <span>“List veri yapısı üzerine üzerine
notlar ve map Fonksiyonu.”</span> December 11, 2022.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopyalandı");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopyalandı");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>